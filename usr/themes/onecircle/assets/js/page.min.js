var owoInit=function(){var e=document.querySelectorAll("pre"),n="line-numbers";e.forEach(function(e,t){e.className=""===e.className?n:e.className+" "+n});e=$(".OwO");0<e.length&&(t=e.data("owo"),new OwO({logo:"OωO",container:document.getElementsByClassName("OwO")[0],target:document.getElementsByClassName("owo-textarea")[0]||document.getElementById("text"),api:t,position:"up",width:"400px",maxHeight:"250px"}));var t=document.getElementById("article-list-btn");t&&(t.addEventListener("click",function(){var c=0,i=0,o="",e=document.getElementById("tocTree"),t=document.getElementsByTagName("article")[0].querySelector(".article-content");t.innerHTML=t.innerHTML.replace(/<h([1-6])(.*?)>(.*?)<\/h\1>/gi,function(e,t,n,a){return c++,i<t?o+=1<c?'</li><li><ul class="article-catalog-list"><li><a href="#index-'+c+'">'+a+"</a>":'<li><a href="#index-'+c+'">'+a+"</a>":i===t?o+='</li><li><a href="#index-'+c+'">'+a+"</a>":t<i&&(o+="</li>"+new Array(i-t+1).join("</ul></li>")+'<li><a href="#index-'+c+'">'+a+"</a>"),"<h"+(i=t)+n+' id="index-'+c+'">'+a+"</h"+t+">"}),o&&(e.classList.add("on"),e.querySelector(".article-catalog-list").innerHTML=o,document.getElementById("tocTree").classList.remove("animate__bounceOutRight"),document.getElementById("tocTree").classList.add("animate__bounceInRight"))}),document.getElementById("catalog-close").addEventListener("click",function(){document.getElementById("tocTree").classList.remove("animate__bounceInRight"),document.getElementById("tocTree").classList.add("animate__bounceOutRight")})),$(".protected-btn").click(function(){var e=$(".protected").attr("action");$.ajax({type:"POST",url:e,data:$(".protected").serialize(),error:function(e){alert("密码提交失败，请刷新页面重试！")},success:function(e){0<=e.indexOf("密码错误")&&0<=e.indexOf("<title>Error</title>")?alert("密码错误，请重试！"):location.reload()}})});var a=$(".comment-respond textarea").attr("placeholder");$("#secret-button").click(function(){var e=$(".comment-respond textarea");$(this).is(":checked")?e.attr("placeholder","私密回复中"):e.attr("placeholder",a)})};$(function(){owoInit()});