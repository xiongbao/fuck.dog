"use strict";function insertAtCursor(t,e){var a,s,n=t.scrollTop,i=document.documentElement.scrollTop;document.selection?(t.focus(),(s=document.selection.createRange()).text=e,s.select()):t.selectionStart||"0"==t.selectionStart?(a=t.selectionStart,s=t.selectionEnd,t.value=t.value.substring(0,a)+e+t.value.substring(s,t.value.length),t.focus(),t.selectionStart=a+e.length,t.selectionEnd=a+e.length):(t.value+=e,t.focus()),t.scrollTop=n,document.documentElement.scrollTop=i}var _createClass=function(){function s(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,a){return e&&s(t.prototype,e),a&&s(t,a),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){var t=(_createClass(i,[{key:"init",value:function(t){var a=this;this.area=t.target,this.packages=Object.keys(this.odata);for(var e='\n<div class="OwO-logo"><span>'+t.logo+'</span></div>\n<div class="OwO-body" style="width: '+t.width+'">',s=0;s<this.packages.length;s++){e+='\n                <ul class="OwO-items OwO-items-'+this.odata[this.packages[s]].type+'" style="max-height: '+(parseInt(t.maxHeight)-53)+'px;">';for(var n=this.odata[this.packages[s]].type,i=this.odata[this.packages[s]].container,o=0;o<i.length;o++)e+="image"==n?'\n                    <li class="OwO-item" data-id="'+i[o].data+'" title="'+i[o].text+'">'+i[o].icon+"</li>":'\n                    <li class="OwO-item" data-id="not-given" title="'+i[o].text+'">'+i[o].icon+"</li>";e+="\n                </ul>"}e+='\n                <div class="OwO-bar">\n                    <ul class="OwO-packages">';for(var l=0;l<this.packages.length;l++)e+="\n                        <li><span>"+this.packages[l]+"</span></li>";e+="\n                    </ul>\n                </div>\n            </div>\n            ",this.container.innerHTML=e,this.logo=this.container.getElementsByClassName("OwO-logo")[0],this.logo.addEventListener("click",function(){a.toggle()}),this.container.getElementsByClassName("OwO-body")[0].addEventListener("click",function(t){var e=null;t.target.classList.contains("OwO-item")?e=t.target:t.target.parentNode.classList.contains("OwO-item")&&(e=t.target.parentNode),e&&(a.area.selectionEnd,a.area.value,"not-given"==e.dataset.id?insertAtCursor(a.area," "+e.innerHTML+" "):insertAtCursor(a.area," "+e.dataset.id+" "),a.area.focus(),a.toggle())}),this.packagesEle=this.container.getElementsByClassName("OwO-packages")[0];for(var c=0;c<this.packagesEle.children.length;c++)!function(t){var e;e=t,a.packagesEle.children[t].addEventListener("click",function(){a.tab(e)})}(c);this.tab(0)}},{key:"toggle",value:function(){this.container.classList.contains("OwO-open")?this.container.classList.remove("OwO-open"):this.container.classList.add("OwO-open")}},{key:"tab",value:function(t){var e=this.container.getElementsByClassName("OwO-items-show")[0];if(e&&e.classList.remove("OwO-items-show"),this.container.getElementsByClassName("OwO-items")[t].classList.add("OwO-items-show"),!this.container.getElementsByClassName("OwO-items")[t].classList.contains("OwO-image-items-load")&&this.container.getElementsByClassName("OwO-items")[t].classList.contains("OwO-items-image")){this.container.getElementsByClassName("OwO-items")[t].classList.add("OwO-image-items-load");for(var a=this.container.getElementsByClassName("OwO-items")[t].getElementsByTagName("img"),s=0;s<a.length;s++)a[s].setAttribute("src",a[s].dataset.src)}e=this.container.getElementsByClassName("OwO-package-active")[0];e&&e.classList.remove("OwO-package-active"),this.packagesEle.getElementsByTagName("li")[t].classList.add("OwO-package-active")}}]),i);function i(t){var e=this;_classCallCheck(this,i);var a,s={logo:"OwO",container:document.getElementsByClassName("OwO")[0],target:document.getElementsByTagName("textarea")[0],position:"down",width:"100%",maxHeight:"250px",api:"https://api.anotherhome.net/OwO/OwO.json"};for(a in s)s.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(t[a]=s[a]);this.container=t.container,this.target=t.target,"up"===t.position&&this.container.classList.add("OwO-up");var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200<=n.status&&n.status<300||304===n.status?(e.odata=JSON.parse(n.responseText),e.init(t)):console.log("OwO data request was unsuccessful: "+n.status))},n.open("get",t.api,!0),n.send(null)}"undefined"!=typeof module&&void 0!==module.exports?module.exports=t:window.OwO=t}();